<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="training_course_form_with_questionnaires">
            <field name="name">training.course.form.with.questionnaires</field>
            <field name="model">training.course</field>
            <field name="inherit_id" ref="training.training_course_form" />
            <field name="type">form</field>
            <field name="arch" type="xml">
                <xpath expr="/form/notebook/page[@string='Supplier Orders']" position="after">
                    <page string="Questionnaires">
                        <field name="questionnaire_ids" nolabel="1" colspan="4">
                            <tree string="Questionnaire">
                                <field name="name" />
                                <field name="state" />
                            </tree>
                            <form string="Questionnaire">
                                <field name="name" />
                                <field name="state" />
                            </form>
                        </field> 
                    </page>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="training_question_form">
            <field name="name">training.question.form</field>
            <field name="model">training.question</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Question">
                    <field name="type" />
                    <field name="kind" />
                    <separator string="Question" colspan="4"/>
                    <field name="name" colspan="4" nolabel="1"/>
                    <notebook colspan="4">
                        <page string="Response">
                            <group attrs="{'invisible':[('type', '!=', 'plain')]}" col="1"
                                colspan="4">
                                <field name="response_plain" colspan="4" />
                            </group>
                            <group attrs="{'invisible':[('type', '!=', 'yesno')]}" col="1"
                                colspan="4">
                                <field name="response_yesno" colspan="4" /> 
                            </group>
                            <group attrs="{'invisible':[('type','!=', 'qcm')]}" col="1" colspan="4">
                                <field name="examen_answer_ids" /> 
                            </group>
                        </page>
                        <page string="Questionnaire">
                            <field name="questionnaire_ids" colspan="4" nolabel="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="training_question_tree">
            <field name="name">training.question.tree</field>
            <field name="model">training.question</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Question">
                    <field name="name" />
                    <field name="type" />
                    <field name="kind" />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="training_question_all_act">
            <field name="name">Questions</field>
            <field name="res_model">training.question</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record model="ir.actions.act_window" id="training_question_new_act">
            <field name="name">New Question</field>
            <field name="res_model">training.question</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
        </record>


        <record model="ir.ui.view" id="training_questionnaire_form">
            <field name="name">training.questionnaire.form</field>
            <field name="model">training.questionnaire</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Questionnaire">
                    <field name="name" />
                    <field name="course_id" />
                    <notebook colspan="4">
                        <page string="General">
                            <separator string="Objective" colspan="4" />
                            <field name="objective" nolabel="1" colspan="4" />
                            <separator string="Exam Content" colspan="4" />
                            <field name="description" nolabel="1" colspan="4" />
                        </page>
                        <page string="Questions">
                            <field name="question_ids" colspan="4" nolabel="1" />
                        </page>
                    </notebook>
                    <group colspan="4" col="6">
                        <field name="state" />
                        <button name="signal_pending" string="Pending" type="workflow" />
                        <button name="signal_inprogress" string="In Progress" type="workflow" />
                        <button name="signal_deprecated" string="Deprecated" type="workflow" />
                        <button name="signal_validate" string="Validate" type="workflow" />
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="training_questionnaire_tree">
            <field name="name">training.questionnaire.tree</field>
            <field name="model">training.questionnaire</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Questionnaires">
                    <field name="name" />
                    <field name="course_id" />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="training_questionnaire_all_act">
            <field name="name">Exams</field>
            <field name="res_model">training.questionnaire</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record model="ir.actions.act_window" id="training_questionnaire_current_act">
            <field name="name">Current Exams</field>
            <field name="res_model">training.questionnaire</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('state', '=', 'mature')]</field>
        </record>

        <record model="ir.actions.act_window" id="training_questionnaire_new_act">
            <field name="name">New Exam</field>
            <field name="res_model">training.questionnaire</field>
            <field name="view_type">form</field>
            <field name="view_mode">form,tree</field>
        </record>

        <record model="ir.ui.view" id="training_planned_examen_form">
            <field name="name">training.planned_examen.form</field>
            <field name="model">training.planned_examen</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Exam">
                    <!-- 
                    <field name="partner_id" />
                    <field name="contact_id" />
                    -->
                    <field name="questionnaire_id" />
                    <newline />
                    <group colspan="8">
                        <field name="state" />
                        <button name="signal_draft" string="Draft" type="workflow" />
                        <button name="signal_open_pending" string="Open and Pending" type="workflow" />
                        <button name="signal_validate" string="Validate" type="workflow" />
                        <button name="signal_inprogress" string="In Progress" type="workflow" />
                        <button name="signal_closed" string="Closed" type="workflow" />
                        <button name="signal_cancel" string="Cancel" type="workflow" />
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="training_planned_examen_tree">
            <field name="name">training.planned_examen.tree</field>
            <field name="model">training.planned_examen</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Exams">
                    <field name="partner_id" />
                    <field name="event_id" />
                    <field name="questionnaire_id" />
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="training_planned_examen_calendar">
            <field name="name">training.planned_examen.calendar</field>
            <field name="model">training.planned_examen</field>
            <field name="type">calendar</field>
            <field name="arch" type="xml">
                <calendar string="Events" date_start="date">
                    <field name="name"/>
                    <field name="location_id"/>
                    <field name="session_ids" />
                </calendar>
            </field>
        </record>

        <record model="ir.actions.act_window" id="training_planned_examen_calendar_act">
            <field name="name">Calendar of Exams</field>
            <field name="res_model">training.planned_examen</field>
            <field name="view_type">form</field>
            <field name="view_mode">calendar,tree</field>
        </record>

        <record model="ir.actions.act_window" id="training_planned_examen_all_act">
            <field name="name">Exams</field>
            <field name="res_model">training.planned_examen</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        <record model="ir.actions.act_window" id="training_planned_examen_new_act">
            <field name="name">New Exam</field>
            <field name="res_model">training.planned_examen</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
        </record>

        <record model="ir.ui.view" id="training_offer_form_with_questionnaires">
            <field name="name">training.offer.form</field>
            <field name="model">training.offer</field>
            <field name="inherit_id" ref="training.training_offer_form"/>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <xpath expr="/form/notebook/page[@string='Courses']" position="after">
                    <page string="Exams">
                        <field name="questionnaire_ids" colspan="4" nolabel="1"/>
                    </page>
                </xpath>
            </field>
        </record>

        <record id="training_examen_answer_form" model="ir.ui.view">
            <field name="name">training.examen_answer.form</field>
            <field name="model">training.examen_answer</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Examen Answer">
                    <field name="name" />
                    <field name="is_response" />
                </form>
            </field>
        </record>

        <record id="training_examen_answer_tree" model="ir.ui.view">
            <field name="name">training.examen_answer.tree</field>
            <field name="model">training.examen_answer</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Examen Answer">
                    <field name="name" />
                    <field name="is_response" />
                </tree>
            </field>
        </record>

        <record id="training_exam_result_form" model="ir.ui.view">
            <field name="name">training.exam.result.form</field>
            <field name="model">training.exam.result</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Result">
                    <field name="participation_id" />
                    <field name="exam_id" />
                </form>
            </field>
        </record>

        <record id="training_exam_result_tree" model="ir.ui.view">
            <field name="name">training.exam.result.tree</field>
            <field name="model">training.exam.result</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Results">
                    <field name="participation_id" />
                    <field name="exam_id" />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="training_exam_result_all_act">
            <field name="name">All Results</field>
            <field name="res_model">training.exam.result</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
    </data>

    <data>
        <!-- Training/ Library/ Exams/ -->
        <menuitem 
            id="training_library_exam_mi" 
            parent="training.training_library_mi" 
            name="Exams" />
        <!-- Training/ Library/ Exams/ Exams-->
        <menuitem 
            id="training_library_exam_questionnaire_all_mi" 
            parent="training_library_exam_mi" 
            action="training_questionnaire_all_act" />
        <!-- Training/ Library/ Exams/ Exams/ Current Exams-->
        <menuitem 
            id="training_library_exam_current_mi" 
            parent="training_library_exam_questionnaire_all_mi" 
            action="training_questionnaire_current_act" />
        <!-- Training/ Library/ Exams/ Exams/ New Exam-->
        <menuitem 
            id="training_library_exam_new_mi" 
            parent="training_library_exam_questionnaire_all_mi" 
            action="training_questionnaire_new_act" />
        <!-- Training/ Library/ Exams/ Questions -->
        <menuitem 
            id="training_library_exam_question_mi" 
            parent="training_library_exam_mi" 
            action="training_question_all_act"/>
        <!-- Training/ Library/ Exams/ New Question -->
        <menuitem 
            id="training_library_exam_question_new_mi" 
            parent="training_library_exam_question_mi" 
            action="training_question_new_act" />

        <!-- Training/ Plannings/ Exams -->
        <menuitem 
            id="training_planning_exam_planning_mi" 
            parent="training.training_planning_mi" 
            action="training_planned_examen_all_act" />

        <!-- Training/ Plannings/ Exams/ Calendar of Exams -->
        <menuitem 
            id="training_planning_exam_planning_planning_mi" 
            parent="training_planning_exam_planning_mi" 
            action="training_planned_examen_calendar_act" />
        <!-- Training/ Plannings/ Exams/ New Exam -->
        <menuitem 
            id="training_planning_exam_planning_planify_mi" 
            parent="training_planning_exam_planning_mi" 
            action="training_planned_examen_new_act" />

        <!-- Training/ Plannings/ Exams/ All Results -->
        <menuitem
            id="training_planning_exam_result_all_mi"
            parent="training_planning_exam_planning_mi"
            action="training_exam_result_all_act" />
    </data>
</openerp>
